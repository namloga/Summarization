<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–°—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="app">
        <!-- Sidebar -->
        <div class="sidebar">
            <div id="tabText" class="tab active" onclick="switchTab('text')">üìÑ –¢–µ–∫—Å—Ç</div>
            <div id="tabFile" class="tab" onclick="switchTab('file')">üìÅ –§–∞–π–ª</div>
        </div>
        
        <!-- Main -->
        <div class="main">
            
            <div class="controls">
                <label><b>–î–ª–∏–Ω–∞</b></label>
                <select id="length" onchange="updateLengthCheck()">
                    <option value="short">–ö–æ—Ä–æ—Ç–∫–∏–π</option>
                    <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
                    <option value="long">–î–ª–∏–Ω–Ω—ã–π</option>
                </select>
            </div>
            
            <div class="panels">
                
                <!-- LEFT PANEL -->
                <div class="panel" id="leftPanel">
                    
                    <div id="clearBtn" class="clear-btn hidden" onclick="clearInput()">&times;</div>
                    
                    <!-- Interface 1: TEXT -->
                    <textarea id="inputText" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–æ–≤..."></textarea>
                    
                    <!-- Interface 2: FILE UPLOAD -->
                    <div class="upload-box hidden" id="uploadBox" onclick="document.getElementById('fileInput').click()">
                        <div>
                            <div style="font-size:40px">üìÑ</div>
                            –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
                        </div>
                    </div>
                    <input type="file" id="fileInput" class="hidden" accept=".csv" />

                    <!-- N√∫t Load Mock CSV -->
                    <button id="mockBtn">–ó–∞–≥—Ä—É–∑–∏—Ç—å Mock CSV</button>
                    
                    <div class="footer">
                        <span id="inputCount">–°–ª–æ–≤–∞: 0</span>
                        <button onclick="startProcessing()">–°—É–º–º–∞—Ä–∏–∑–æ–≤–∞—Ç—å</button>
                    </div>
                </div>
                
                <!-- RIGHT PANEL -->
                <div class="panel">
                    <textarea id="outputText" placeholder="–†–µ–∑—É–ª—å—Ç–∞—Ç —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏..." readonly></textarea>
                    
                    <div class="footer">
                        <span id="outputCount">–°–ª–æ–≤–∞: 0</span>
                        <div>
                            <button onclick="copyResult()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                            <button onclick="downloadResult()">–°–∫–∞—á–∞—Ç—å</button>
                        </div>
                    </div>
                    
                    <div class="loading" id="loading">
                        <div class="spinner"></div>
                        Loading
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PapaParse ƒë·ªÉ ƒë·ªçc CSV -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <!-- Script ch√≠nh -->
    <script src="script.js"></script>
</body>
</html>
